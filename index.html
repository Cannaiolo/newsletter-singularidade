<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Guardi√µes da SINGULARIDADE</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(1rem); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fade-in 0.5s ease-out forwards;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4">
  <div class="max-w-3xl mx-auto">
    <img src="https://images2.imgbox.com/43/dc/0Sz1QYww_o.png"
         alt="Logo Guardi√µes da Singularidade"
         class="mx-auto w-40 mb-6">

    <h1 id="page-title" class="text-3xl font-bold text-center mb-1">
      Guardi√µes da SINGULARIDADE
    </h1>
    <p id="page-subtitle" class="text-center text-gray-600 text-lg mb-6">
      A news da sua Segunda-feira
    </p>

    <section id="sumario" class="mb-10">
      <h2 class="text-xl font-semibold mb-2">T√≥picos desta edi√ß√£o:</h2>
      <ul id="lista-sumario" class="list-disc pl-5 space-y-2"></ul>
    </section>

    <div id="noticias" class="space-y-10"></div>

    <div class="mt-10 p-4 bg-white rounded-2xl shadow text-center">
      <p class="text-xl font-semibold mb-2">
        ü•ã Novo ciclo aberto ‚Äî Intelig√™ncia Aumentada para executivos
      </p>
      <p class="text-gray-700 mb-2">
        11 vagas para quem quer comandar o jogo com IA ‚Äî n√£o ser comandado por ele.
      </p>
      <a href="https://www.canva.com/design/DAGqWdKBIM8/8TpHf9K3ATTbpTLfra3ZQA/view?utm_content=DAGqWdKBIM8&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=ha1f8fd8801"
         target="_blank"
         class="inline-block text-indigo-600 font-medium hover:underline py-2"
         aria-label="Torne-se um Guardi√£o da Singularidade">
        ‚Üí Torne-se um Guardi√£o da Singularidade
      </a>
    </div>
  </div>

  <script type="module">
    // Pega edi√ß√£o via query string: ?ed=2025-07-21_realidade-programada
    const params = new URLSearchParams(location.search);
    const edicao = params.get('ed') || '2025-07-21_realidade-programada';
    const titleMap = {
      '2025-07-14_entre_vozes_e_algoritmos': 'Entre vozes e algoritmos',
      '2025-07-21_realidade-programada': 'Realidade Programada'
      // adicione novas datas e nomes aqui conforme necess√°rio
    };

    import(`./editions/${edicao}.js`)
      .then(mod => {
        const data = mod.default;
        document.title = `Guardi√µes da SINGULARIDADE ‚Äî ${titleMap[edicao] || edicao}`;
        document.getElementById('page-title').textContent =
          `Guardi√µes da SINGULARIDADE ‚Äî ${titleMap[edicao] || edicao}`;
        renderNoticias(data);
      })
      .catch(err => {
        console.error(err);
        document.getElementById('noticias').innerHTML =
          '<p class="text-red-600">N√£o foi poss√≠vel carregar a edi√ß√£o solicitada.</p>';
      });

  function renderNoticias(data) {
    const sumarioEl = document.getElementById('lista-sumario');
    const noticiasEl = document.getElementById('noticias');
    sumarioEl.innerHTML = '';
    noticiasEl.innerHTML = '';
  
    data.blocos.forEach((noticia, i) => {
      const id = `noticia-${i}`;
  
      // --- SUM√ÅRIO ---
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = `#${id}`;
      a.textContent = noticia.titulo;
      a.className = 'text-blue-600 hover:underline';
      a.setAttribute('aria-label', `Ir para ${noticia.titulo}`);
      li.appendChild(a);
      sumarioEl.appendChild(li);
  
      // quando clicar no link, destaca o card por 3s
      a.addEventListener('click', e => {
        e.preventDefault();                // evita jump brusco
        const card = document.getElementById(id);
        card.classList.add('bg-yellow-100'); // cor de destaque
        card.scrollIntoView({               // scroll suave at√© o card
          behavior: 'smooth',
          block: 'start'
        });
        setTimeout(() => {
          card.classList.remove('bg-yellow-100');
        }, 3000);
        // atualiza a URL (opcional)
        history.replaceState(null, '', `#${id}`);
      });
  
      // --- CARD DE NOT√çCIA ---
      const card = document.createElement('div');
      card.id = id;
      card.className = 'bg-white rounded-2xl shadow p-4 transition-transform hover:scale-[1.02] opacity-0 animate-fade-in';
  
      card.innerHTML = `
        <h2 class="text-xl font-semibold mb-2">${noticia.titulo}</h2>
        <p class="text-gray-700 mb-2">${noticia.resumo}</p>
        <a href="${noticia.link}"
           target="_blank"
           class="inline-block text-indigo-600 font-medium hover:underline py-2"
           aria-label="Leia mais sobre ${noticia.titulo}">
          Leia mais ‚Üí
        </a>
      `;
  
      noticiasEl.appendChild(card);
    });
  }
  </script>
</body>
</html>
